## 1 类和对象

```c++
class Person {
public://访问修饰符：public、rotected、private
    static int count; //静态成员,无论创建多少个类的对象，静态成员都只有一个副本。
    string name;

    void setName(string name);

    string getName();

    void setAge(int age);

    int getAge();

    Person();//构造函数

    Person(string name);//带参数构造函数

private:
    int age;
};

Person::Person() {}

Person::Person(string name) {
    this->name = name;
}

void Person::setAge(int age) {
    this->age = age;
}

int Person::getAge() {
    return age;
}

void Person::setName(string name) {
    this->name = name;
}

string Person::getName() {
    return name;
}

int main() {
    Person person;
    person.setName("Jack");
    person.setAge(30);

    Person person1("Maria");
    
    cout << person.getName() << endl;
    return 0;
}

```

## 2 拷贝构造函数

一种特殊的构造函数，它在创建对象时，是使用同一类中之前创建的对象来初始化新创建的对象。拷贝构造函数通常用于：

- 通过使用另一个同类型的对象来初始化新创建的对象。
- 复制对象把它作为参数传递给函数。
- 复制对象，并从函数返回这个对象。

如果在类中没有定义拷贝构造函数，编译器会自行定义一个。如果类带有指针变量，并有动态内存分配，则它必须有一个拷贝构造函数。

```c++
#include <iostream>
 
using namespace std;
 
class Line{
public:
     int getLength( void );
     Line( int len );            // 简单的构造函数
     Line(const Line &obj);      // 拷贝构造函数
     ~Line();                    // 析构函数,跳出程序（比如关闭文件、释放内存等）前释放资源
 
private:
    int *ptr;
};
 
// 成员函数定义，包括构造函数
Line::Line(int len){
   cout << "调用构造函数" << endl;
    // 为指针分配内存
   ptr = new int;
   *ptr = len;
}
 
Line::Line(const Line &obj){
   cout << "调用拷贝构造函数并为指针 ptr 分配内存" << endl;
   ptr = new int;
   *ptr = *obj.ptr; // 拷贝值
}
 
Line::~Line(void){
   cout << "释放内存" << endl;
   delete ptr;
}

int Line::getLength(void){
   return *ptr;
}
 
void display(Line obj){
   cout << "line 大小 : " << obj.getLength() <<endl;
}
 
int main( ){
   Line line(10); 
   display(line); 
   return 0;
}
```

## 3  友元函数

定义在类外部，但有权访问类的所有私有（private）成员和保护（protected）成员。

```c++
#include <iostream>
 
using namespace std;
 
class Box{
   double width;
public:
   friend void printWidth(Box box);
   void setWidth(double width);
};
 
// 成员函数定义
void Box::setWidth(double width){
    this ->width = wid;
}
 
//printWidth()不是任何类的成员函数
void printWidth(Box box){
   /* 因为 printWidth() 是 Box 的友元，它可以直接访问该类的任何成员 */
   cout << "Width of box : " << box.width <<endl;
}
 
// 程序的主函数
int main( ){
   Box box; 
   // 使用成员函数设置宽度
   box.setWidth(10.0);   
   // 使用友元函数输出宽度
   printWidth(box); 
   return 0;
}
```

## 4 内联函数（inline）

如果函数是内联的，那么在编译时，编译器会把该函数的代码副本放置在每个调用该函数的地方，每次修改，都要重新编译所有，空间换时间。

```c++
#include <iostream>
using namespace std;
inline int Max(int x, int y){
   return (x > y)? x : y;
}

// 程序的主函数
int main( ){
   cout << "Max (20,10): " << Max(20,10) << endl;
   cout << "Max (0,200): " << Max(0,200) << endl;
   cout << "Max (100,1010): " << Max(100,1010) << endl;
   return 0;
}
```

