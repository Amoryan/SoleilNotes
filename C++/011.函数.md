## 1 函数

每个 C++ 程序都至少有一个函数，主函数 **main()** 。

```c++
//函数返回两个数中较大的那个数
int max(int num1, int num2) {
   // 局部变量声明
   int result;
   if (num1 > num2){
      result = num1;
   }
   else{
      result = num2; 
   }     
   return result; 
}
```

## 2 函数声明

告诉编译器函数名称及如何调用函数。函数的实际主体可以单独定义。

```c++
int max(int num1, int num2);
//参数的名称并不重要，只有参数的类型是必需的
int max(int, int);
```

一个源文件中定义函数且在另一个文件中调用函数时，函数声明是必需的，应该在调用函数的文件顶部声明函数。

```c++
#include <iostream>
using namespace std;
int max(int, int);
int main() {
    int a = max(4, 78);
    cout << a << endl;
    return 0;
}
int max(int num1, int num2) {
   // 局部变量声明
   int result;
   if (num1 > num2){
      result = num1;
   }
   else{
      result = num2; 
   }     
   return result; 
}
```



## 3 函数参数

### 3.1 传值调用

不会更改原值

```c++
// 函数定义
void swap(int x, int y){
   int temp;
   temp = x; 
   x = y;    
   y = temp;  
}

#include <iostream>
using namespace std;
 
// 函数声明
void swap(int, int);
 
int main (){
   // 局部变量声明
   int a = 100;
   int b = 200;
   cout << "交换前，a 的值：" << a << endl;
   cout << "交换前，b 的值：" << b << endl;
   // 调用函数来交换值
   swap(a, b);
   cout << "交换后，a 的值：" << a << endl;
   cout << "交换后，b 的值：" << b << endl;
 
   return 0;
}
//交换前，a 的值： 100
//交换前，b 的值： 200
//交换后，a 的值： 100
//交换后，b 的值： 200
```

### 3.2 指针调用

向函数传递参数的**指针调用**方法，把参数的地址复制给形式参数。在函数内，该地址用于访问调用中要用到的实际参数，修改形式参数会影响实际参数。

```c++
// 函数定义
void swap(int *x, int *y){
   int temp;
   temp = *x; 
   *x = *y;    
   *y = temp;  
}

#include <iostream>
using namespace std;
 
// 函数声明
void swap(int *x, int *y);
 
int main (){
   // 局部变量声明
   int a = 100;
   int b = 200;
   cout << "交换前，a 的值：" << a << endl;
   cout << "交换前，b 的值：" << b << endl;
   // 调用函数来交换值
   swap(&a, &b);
   cout << "交换后，a 的值：" << a << endl;
   cout << "交换后，b 的值：" << b << endl;
 
   return 0;
}
//交换前，a 的值： 100
//交换前，b 的值： 200
//交换后，a 的值： 200
//交换后，b 的值： 100
```

### 3.3 引用调用

向函数传递参数的**引用调用**方法，把引用的地址复制给形式参数。在函数内，该引用用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。

```c++
// 函数定义
void swap(int &x, int &y){
   int temp;
   temp = x; 
   x = y;    
   y = temp;  
}

#include <iostream>
using namespace std;
 
// 函数声明
void swap(int *x, int *y);
 
int main (){
   // 局部变量声明
   int a = 100;
   int b = 200;
   cout << "交换前，a 的值：" << a << endl;
   cout << "交换前，b 的值：" << b << endl;
   // 调用函数来交换值
   swap(a, b);
   cout << "交换后，a 的值：" << a << endl;
   cout << "交换后，b 的值：" << b << endl;

   return 0;
}
//交换前，a 的值： 100
//交换前，b 的值： 200
//交换后，a 的值： 200
//交换后，b 的值： 100
```

## 4 参数的默认值

定义一个函数，以为参数列表中后边的每一个参数指定默认值。

```c++
// 函数定义
int sum(int x, int y = 300){
   return x + y;
}

sum(5);
sum(5,899);
```

## 5 Lambda 函数与表达式

C++11 提供了对匿名函数的支持,称为 Lambda 函数(也叫 Lambda 表达式)。

```c++
[capture](parameters) mutable ->return-type{statement}
```

-  **[capture]**：捕捉列表。捕捉列表总是出现在 lambda 表达式的开始处。事实上，[] 是 lambda 引出符。编译器根据该引出符判断接下来的代码是否是 lambda 函数。捕捉列表能够捕捉上下文中的变量供 lambda 函数使用。
-  (parameters)：参数列表。与普通函数的参数列表一致。如果不需要参数传递，则可以连同括号 () 一起省略。
-  **mutable**：mutable 修饰符。默认情况下，lambda 函数总是一个 const 函数，mutable 可以取消其常量性。在使用该修饰符时，参数列表不可省略（即使参数为空）。
-  **->return_type**：返回类型。用追踪返回类型形式声明函数的返回类型。出于方便，不需要返回值的时候也可以连同符号 -> 一起省略。此外，在返回类型明确的情况下，也可以省略该部分，让编译器对返回类型进行推导。
-  **{statement}**：函数体。内容与普通函数一样，不过除了可以使用参数之外，还可以使用所有捕获的变量。

```c++
[](int x, int y){ return x < y; }
[]{ x++; }
[](int x, int y) -> int { int z = x + y; return z + x; } //指定返回类型
```

```c++
[]      // 沒有定义任何变量。使用未定义变量会引发错误。
[x, &y] // x以传值方式传入（默认），y以引用方式传入。
[&]     // 任何被使用到的外部变量都隐式地以引用方式加以引用。
[=]     // 任何被使用到的外部变量都隐式地以传值方式加以引用。
[&, x]  // x显式地以传值方式加以引用。其余变量以引用方式加以引用。
[=, &z] // z显式地以引用方式加以引用。其余变量以传值方式加以引用。
```

